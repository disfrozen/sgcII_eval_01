<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ICVU</title>
    <link rel="stylesheet" type="text/css" href="estilo.css">
</head>

<body>

    <nav>
        <a href="index.html">Revista UTE</a> <a href="icvu-2019.html" class="actual">ICVU 2019</a> <a href="psu-nem.html">PSU/NEM</a> <a href="better-times.html">DESEMPLEO</a> <a href="global-warming.html">CALENTAMIENTO GLOBAL</a>
    </nav>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>

    <script>
        var selector;
        var factor = 1000;
        var data = [
          { trabajo: [74.34, 65.52, 57.6]},
          { negocios: [67.02, 42.57, 51.85]},
          { cultura: [51.59, 35.46, 35.05]},
          { conectividad: [83.44, 82.5, 72.48]},
          { salud: [61.48, 56.33, 36.38]},
          { vivienda: [70.13, 22.84, 23.57]}
        ];
        
        var categorias = {'Condiciones laborales', 'Ambiente de negocios', 'Condiciones socioculturales', 'Conectividad y movilidad', 'Salud y medioambiente', 'Vivienda y entorno'}

        function setup() {
            createCanvas(windowWidth, windowHeight);
            noStroke();
            noLoop();
            selector = createSelect();
            selector.position(width-190, 20);
            selector.option('Providencia', 0);
            selector.option('Recoleta', 1);
            selector.option('Quinta Normal', 2);
            selector.changed(viz);
        }

        function categorias() {
          clear();
          textSize(9)
          textAlign(CENTER);
          rectMode(CENTER);
          stroke(0);
          for (var n = 0; n < 7; n++) {
              text(categorias.get(n, 0), (width / 8) * (n + 1), height - 20, width / 8, 50);
          }
        }

        function draw() {
            beginShape();
            categorias();
            vertex((width / 8), height - 150);
            for (var x = 0; x < 4; x++) {
                stroke(0);
                vertex((width / 8), (height - 60)*(x+1) - (data.trabajo[x])
            }
        }

        function viz(){
          clear();
          redraw();
        }

    </script>

</body>

</html>
